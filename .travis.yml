language: java
jdk: oraclejdk7
install: mvn --version
before_script:
  - "export DISPLAY=:99"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 
script: mvn clean verify -U -B -fae
after_success: ls /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-linux.gtk.x86_64.tar.gz
deploy:
  provider: releases
  api-key: "GITHUB OAUTH TOKEN"
  file: /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-linux.gtk.x86_64.tar.gz
  skip_cleanup: true
  on:
    tags: true
    all_branches: true
