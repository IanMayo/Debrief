language: java
jdk: oraclejdk7
install: mvn --version
before_script:
  - "export DISPLAY=:99"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 
script: mvn clean verify -U -B -fae
after_success: ls /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-linux.gtk.x86_64.tar.gz
deploy:
  provider: releases
  api-key: 
    secure: "ZHzo0FD6Q0vCXpuARtjCE/GGvg88g7fxIMkWZXiMKr0r3djA3Rqe6LiId/kxxypzoMOnCujdOaOs8boELXzS85+dJ9QDaW398LfUMHsoKvs99GVZLCun2rUBnYS9/xmeB9FD9dESCh2+j4jWciROeOkGfCcZ/ttHpBnPrbXHRVw="
  file: 
    - /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-linux.gtk.x86.tar.gz
    - /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-linux.gtk.x86_64.tar.gz
    - /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-win32.win32.x86.zip
    - /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-win32.win32.x86_64.zip
    - /home/travis/build/debrief/debrief/org.mwc.debrief.product/target/products/DebriefNG-macosx.cocoa.x86_64.tar.gz
  skip_cleanup: true
  on:
    tags: true
    all_branches: true


