<project default="checkStyle">
	<taskdef resource="checkstyletask.properties"
         classpath="lib/checkstyle-5.6-all.jar"/>
         	
	<fileset id="sourceCode" dir="../">		
		<patternset >
			<include name="**/src/ASSET/**/*.java"/>
			<include name="**/src/org/mwc/**/*.java"/>
			<include name="**/src/MWC/**/*.java"/>
			<include name="**/src/Debrief/**/*.java"/>						
		</patternset>
	</fileset>
	
	<target name="checkStyle">
		<checkstyle config="checkstyle/config.xml" 
					failonviolation="false"
					failureProperty="checkstyle.failure">
					<fileset refid="sourceCode"/>
					
					<formatter type="plain"/>
					<formatter type="plain" toFile="checkstyle/problems.log"/>
				</checkstyle>
		
		<fail message="CheckStyle found violations!" if="checkstyle.failure"/>
	</target>
</project>